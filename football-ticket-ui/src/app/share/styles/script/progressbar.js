!function(a){jQuery.fn.progressBar=function(r){var t=a.extend({},{height:"30",backgroundColor:"#E0E0E0",barColor:"#F97352",targetBarColor:"#CCC",percentage:!0,shadow:!1,border:!1,animation:!1,animateTarget:!1},r);return this.each(function(){var r=a(this);a.fn.replaceProgressBar(r,t)})},a.fn.replaceProgressBar=function(r,t){var s=r.text(),o=r.data("width"),n=r.data("target"),e=" ",i="",l="background-color:"+t.backgroundColor+";height:"+t.height+"px;";t.shadow&&(e+="shadow"),t.border&&(e+=" border"),t.animation&&(i=" animate");var c='<div class="sonny_progressbar'+i+'" data-width="'+o+'">';c+='<p class="title">'+s+"</p>",c+='<div class="bar-container'+e+'" style="'+l+'">',c+='<span class="backgroundBar"></span>',n&&(t.animateTarget?c+='<span class="targetBar loader" style="width:'+n+"%;background-color:"+t.targetBarColor+';"></span>':c+='<span class="targetBar" style="width:'+n+"%;background-color:"+t.targetBarColor+';"></span>'),t.animation?c+='<span class="bar" style="background-color:'+t.barColor+';"><small>'+o+"%</small></span>":c+='<span class="bar" style="width:'+o+"%;background-color:"+t.barColor+';"></span>',t.percentage&&(c+='<span class="progress-percent" style="line-height:'+t.height+'px;">'+o+"%</span>"),c+="</div></div>",a(r).replaceWith(c)};var r=function(){var r=a(window).height();a(".sonny_progressbar.animate").each(function(){var t=a(this).offset().top;if(a(window).scrollTop()+r-60>t){var s=a(this).data("width")+"%";a(this).removeClass("animate"),a(this).find(".bar").css("opacity","0.1"),a(this).find(".bar").animate({width:s,opacity:1},2e3)}})};a(window).scroll(function(){!(a(".sonny_progressbar.animate").length<1)&&r()})}(jQuery);
